---
import AnimatedButton from "../ui/AnimatedButton.astro";

interface Step {
  number?: string;
  icon?: string;
  title: string;
  content: string;
  button?: {
    text: string;
    href: string;
  };
}

const steps: Step[] = [
  {
    number: "01",
    title: `Choisir un plan<br  /> <span class="border-bottom">Maily®</span>`,
    content: `La première étape consiste à <strong class="font-[600] text-[#0d1b32]">choisir l'offre</strong> la plus adaptée à vos besoins en matière de stockage, de nombre d'utilisateurs, etc.`,
    button: {
      text: "Voir nos offres",
      href: "#offers",
    },
  },
  {
    number: "02",
    title: `Passer au <br  /> <span class="border-bottom">paiement</span>`,
    content: `Sélectionnez le <strong class="font-[600] text-[#0d1b32]">nombre d'utilisateurs</strong> Maily®. Une fois le paiement effectué, vous pouvez gérer vos emails depuis la gestion de votre compte Maily®.`,
  },
  {
    icon: `<svg class="w-9 h-9 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24" width="10" height="10">
      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="4" d="M5 13l4 4L19 7"></path>
    </svg>`,
    title: `Configuration <br  /><span class="border-bottom">des emails</span>`,
    content: `Enfin, c'est très simple : <b>nous prenons en charge</b> la configuration des paramètres de vos e-mails et vous communiquons les <b>identifiants</b> ainsi que les <b>instructions</b>.`,
  },
];
---

<section class="lg:my-[150px] my-[80px]">
  <div class="container">
    <!-- Section Header -->
    <h2 class="font-[600] sm:text-left text-center title-section">
      Quelques clics suffisent pour créer
      <br class="md:block hidden" /> vos emails nom@entreprise.ma
    </h2>

    <!-- Steps Container - Responsive layout -->
    <div class="flex mt-[40px] flex-col lg:flex-row gap-8 lg:gap-5">
      {steps.map((step) => (
        <div class="flex-1">
          <!-- Step Number/Icon -->
          <div
            class={`
              font-[600] leading-[1] lg:mb-[20px]
              ${step.number ? "text-primary text-[58px] font-[600]" : ""}
              ${
                step.icon
                  ? "bg-primary rounded-full py-[10px] mb-[20px] w-12 h-12 flex items-center justify-center"
                  : ""
              }
            `}
          >
            {step.number ? (
              step.number
            ) : step.icon ? (
              <Fragment set:html={step.icon} />
            ) : null}
          </div>

          <!-- Title -->
          <h3
            class="text-[28px] md:text-[27px]  font-[600] text-title lg:mb-[15px] mb-[5px] inline-block"
            set:html={step.title}
          />

          <!-- Content -->
          <p class="paragraph-16 mt-4" set:html={step.content} />

          <!-- Button (only for step 01) -->
          {step.button && (
            <a href={step.button.href}>
              <AnimatedButton
                text={step.button.text}
                hoverText={step.button.text}
                bgColor={"bg-transparent"}
                textColor={"text-title"}
                hoverBgColor={"bg-transparent"}
                class="text-title border-3 border-primary rounded-sm px-[40px] font-[600] py-[10px]"
                arrowButton={true}
                colorArrow={"#022545"}
              />
            </a>
          )}
        </div>
      ))}
    </div>
  </div>
</section>

