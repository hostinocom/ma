---
import ConsultButton from "../ui/ConsultButton.astro";

interface Props {
  title: string;
  paragraphs: string[];
  imageSrc: string;
  imageAlt?: string;
  consultButtonTextExiste?: boolean;
  textButton?: string;
  href?: string;
  className?: string;
  arrowButton?: boolean;
}

const {
  title,
  paragraphs,
  imageSrc,
  imageAlt = "Image",
  consultButtonTextExiste = true,
  textButton,
  href = "/email-professionnel/",
  className,
  arrowButton = false,
} = Astro.props;
---

<section class={className ? className : "lg:my-[150px] my-[80px]"}>
  <div class="container mx-auto px-4">
    <!-- Mobile Layout: Image First, then Title and Text -->
    <div class="lg:hidden block">
      <div>
        <h2
          class="big-title font-[600] text-title mb-6"
          set:html={title}
        />
        <div>
          {paragraphs.map((paragraph) => (
            <p
              class="paragraph"
              set:html={paragraph}
            />
          ))}
          <div class="flex justify-center mb-8">
            <img
              src={imageSrc}
              alt={imageAlt}
              width={3508}
              height={2481}
              class="w-full md:w-[85%] h-auto rounded-lg"
            />
          </div>
        </div>
        {consultButtonTextExiste && (
          <ConsultButton arrowButton={arrowButton} href={href} text={textButton} />
        )}
      </div>
    </div>

    <!-- Desktop Layout: Text Wraps Around Image -->
    <div class="hidden lg:block">
      <div class="flex gap-8">
        <!-- Text Section with Float -->
        <div class="flex-1">
          <h2
            class="big-title xl:pr-[10px] lg:pr-[50px] font-[600] text-title mb-6"
            set:html={title}
          />

          <!-- Image Floated Right Within Text -->
          <div class="float-right ml-8 mb-6 xl:w-[45%] lg:w-[50%]">
            <img
              src={imageSrc}
              alt={imageAlt}
              width={3508}
              height={2481}
              class="w-full h-auto rounded-lg"
            />
          </div>

          <!-- Text Flowing Around Image -->
          <div class="text-wrap">
            {paragraphs.map((paragraph) => (
              <p
                class="paragraph"
                set:html={paragraph}
              />
            ))}
          </div>

          <!-- Clear Float for Button -->
          <div class="clear-both mt-8">
            {consultButtonTextExiste && (
              <ConsultButton arrowButton={arrowButton} href={href} text={textButton} />
            )}
          </div>
        </div>
      </div>
    </div>
  </div>
</section>

