---
import AnimatedButton from "../ui/AnimatedButton.astro";

interface Plan {
  id: number;
  name: string;
  description: string;
  price: string;
  isHighlighted: boolean;
  features: (string | { html: string })[];
  is_most_popular: boolean;
  href: string;
}

interface Props {
  className?: string;
  title?: string;
  smallTitle?: string;
  plans?: Plan[];
}

const hostingPlans: Plan[] = [
  {
    id: 1,
    name: "Pack <i>MA1</i>",
    description: "Idéal pour débuter avec un petit site web.",
    price: "1399 DH",
    isHighlighted: false,
    features: [
      { html: `<div class="flex items-center lg:justify-start justify-center"><img src="/images/03/flag-maroc.svg" alt="SEO Optimized" width="16" height="16" class="mr-1" /><span class="text-title">Données hébergées au Maroc</span></div>` },
      { html: `<div class="flex items-center lg:justify-start justify-center"><img src="/images/03/flag-maroc.svg" alt="SEO Optimized" width="16" height="16" class="mr-1" /><span class="text-title"><b>Adresse IP marocaine</b></span></div>` },
      "Nom de domaine <b>gratuit</b>",
      { html: `<div class="flex items-center lg:justify-start justify-center"><img src="/images/03/wp.svg" alt="SEO Optimized" width="16" height="16" class="mr-1" /><span class="text-title"><b>WordPress</b> pré-installé</span></div>` },
      "<b>Certificat SSL</b> (https://)",
      "Panneau de gestion <b><i>cPanel®</i></b>",
      "<b>10 Go</b> de stockage SSD NVMe",
      "Bande Passante : <b>50 GB</b>",
      "Adresses e-mails: <b>5</b>",
      "Antivirus, Antimalware et WAF",
      "Datacenter certifié TIER III, ISO 27001",
      "Conforme PCI-DSS",
      "Conforme à la <b>loi marocaine 09-08</b>",
    ],
    is_most_popular: false,
    order : {
      text : "Commender",
      href: "https://my.hostino.com/order.php?pid=27&language=french&currency=1&country=MA",
    },
    typePrice : "HT/an",
    active :"Activation instantannée"
  },
  {
    id: 2,
    name: "Pack <i>MA2</i>",
    description: "Plus de performance, plus de ressources.",
    price: "2399 DH",
    isHighlighted: true,
    features: [
      { html: `<div class="flex items-center lg:justify-start justify-center"><img src="/images/03/flag-maroc.svg" alt="SEO Optimized" width="16" height="16" class="mr-1" /><span class="text-title">Données hébergées au Maroc</span></div>` },
      { html: `<div class="flex items-center lg:justify-start justify-center"><img src="/images/03/flag-maroc.svg" alt="SEO Optimized" width="16" height="16" class="mr-1" /><span class="text-title"><b>Adresse IP marocaine</b></span></div>` },
      "Nom de domaine <b>gratuit</b>",
      { html: `<div class="flex items-center lg:justify-start justify-center"><img src="/images/03/wp.svg" alt="SEO Optimized" width="16" height="16" class="mr-1" /><span class="text-title"><b>WordPress</b> pré-installé</span></div>` },
      "<b>Certificat SSL</b> (https://)",
      "Panneau de gestion <b><i>cPanel®</i></b>",
      "<b>25 Go</b> de stockage SSD NVMe",
      "Bande Passante : <b>100 GB</b>",
      "Adresses e-mails: <b>100</b>",
      "Antivirus, Antimalware et WAF",
      "Datacenter certifié TIER III, ISO 27001",
      "Conforme PCI-DSS",
      "Conforme à la <b>loi marocaine 09-08</b>",
    ],
    is_most_popular: true,
    order : {
      text : "Commender",
      href: "https://my.hostino.com/order.php?pid=28&language=french&currency=1&country=MA",
    },
    typePrice : "HT/an",
    active :"Activation instantannée"

  },
  {
    id: 3,
    name: "Pack <i>MA3</i>",
    description: "Meilleur choix pour les sites corporate.",
    price: "4899 DH",
    isHighlighted: false,
    features: [
      { html: `<div class="flex items-center lg:justify-start justify-center"><img src="/images/03/flag-maroc.svg" alt="SEO Optimized" width="16" height="16" class="mr-1" /><span class="text-title">Données hébergées au Maroc</span></div>` },
      { html: `<div class="flex items-center lg:justify-start justify-center"><img src="/images/03/flag-maroc.svg" alt="SEO Optimized" width="16" height="16" class="mr-1" /><span class="text-title"><b>Adresse IP marocaine</b></span></div>` },
      "Nom de domaine <b>gratuit</b>",
      { html: `<div class="flex items-center lg:justify-start justify-center"><img src="/images/03/wp.svg" alt="SEO Optimized" width="16" height="16" class="mr-1" /><span class="text-title"><b>WordPress</b> pré-installé</span></div>` },
      "<b>Certificat SSL</b> (https://)",
      "Panneau de gestion <b><i>cPanel®</i></b>",
      "<b>50 Go</b> de stockage SSD NVMe",
      "Bande Passante : <b>250 GB</b>",
      "Adresses e-mails: <b>illimitées</b>",
      "Antivirus, Antimalware et WAF avancés",
      "Datacenter certifié TIER III, ISO 27001",
      "Conforme PCI-DSS",
      "Conforme à la <b>loi marocaine 09-08</b>",
    ],
    is_most_popular: false,
    order : {
      text : "Commender",
      href: "https://my.hostino.com/order.php?pid=29&language=french&currency=1&country=MA",
    },
    typePrice : "HT/an",
    active :"Activation instantannée"

  },
];

const {
  className = "",
  title,
  smallTitle,
  plans = hostingPlans,
}: Props = Astro.props;
---

<section
  id="plans"
  class={`${className}  overflow-hidden plans-section relative`}
>
  <div class="container">
    <div
      class={`${
        plans.length >= 3
          ? "grid grid-cols-1 py-[30px] lg:grid-cols-3 lg:gap-6 gap-8 w-full"
          : "flex lg:flex-row flex-col justify-center py-[30px] lg:gap-6 gap-8 w-full"
      }`}
    >
      {plans.map((plan) => (
        <div
          class={`${
            plan.is_most_popular && "border-3 border-primary"
          } bg-white relative lg:text-left text-center rounded-[10px] lg:w-full md:w-[70vw] w-full mx-auto mb-4 md:pt-[55px] md:px-[50px] md:pb-[50px] lg:pt-[50px] lg:pb-[40px] lg:px-[40px] pt-[45px] px-[25px] pb-[35px] border border-gray-300 h-full`}
        >
          <h3
            class="lg:text-[34px] md:text-left text-center md:text-[31px] text-[28px] text-title poppins-semibold  md:leading-[33px] leading-[1.3em] mb-4"
            set:html={plan.name}
          />
          <p class="text-[#022545BD] md:text-left text-center text-[14px] poppins-regular leading-[21px] tracking-[0.3px]">
            {plan.description}
          </p>

          <div class="border-t-3 sm:my-[40px] my-[30px] border-gray-200"></div>

          {/* Pricing */}
          <div class="mb-6 flex">
            <p class="text-[45px] poppins-semibold  leading-[54px] text-title numbers" set:html={plan.price} />
            <span class="ml-[8px] mt-[5px] text-[15px] poppins-light">
              {plan.typePrice}
            </span>
          </div>

          <a
            href={plan.order.href}
            class={`w-full ${
              plan.is_most_popular
                ? "bg-primary"
                : "bg-title hover:bg-primary transition"
            }  btn-order-plan`}
            target="_blank"
            rel="noopener noreferrer"
          >
            {plan.order.text}
            <svg
              fill="none"
              viewBox="0 0 24 24"
              stroke-width={4}
              stroke="currentColor"
              class="size-3 poppins-semibold "
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                d="m8.25 4.5 7.5 7.5-7.5 7.5"
              />
            </svg>
          </a>

          <div class="border-t border-gray-200 sm:my-[40px] my-[30px]"></div>

          <div>
            {plan.features.map((feature) => (
              <div class="flex list-features-plans items-start">
                {typeof feature === "object" && "html" in feature ? (
                  <div
                    class="text-[14px] text-title poppins-regular leading-[1.8em]"
                    set:html={feature.html}
                  />
                ) : (
                  <p
                    class="text-[14px] text-title poppins-regular leading-[1.8em]"
                    set:html={feature as string}
                  />
                )}
              </div>
            ))}
          </div>

          <div class="mt-6">
            <p class="text-title text-[14px] poppins-regular inline-flex items-center">
              <b>{plan.active}</b>
            </p>
          </div>
        </div>
      ))}
    </div>
    <div
      class="elementor-shape elementor-shape-bottom"
      aria-hidden="true"
      data-negative="false"
    >
    </div>
  </div>
</section>

